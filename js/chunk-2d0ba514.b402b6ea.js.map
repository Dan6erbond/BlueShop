{"version":3,"sources":["webpack:///./src/views/ProductSearch.vue?7263","webpack:///src/views/ProductSearch.vue","webpack:///./src/views/ProductSearch.vue?75bc","webpack:///./src/views/ProductSearch.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","$t","search","query","_l","product","key","id","attrs","name","params","getProductName","staticClass","staticStyle","getProductThumbnail","_f","getProductDescription","staticRenderFns","data","products","computed","$route","q","watch","immediate","handler","$client","methods","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAY,SAAEI,EAAG,KAAK,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,oBAAqB,CAACC,OAAQT,EAAIU,YAAYN,EAAG,KAAK,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,kBAAmB,CAACC,OAAQT,EAAIU,YAAYN,EAAG,eAAeJ,EAAIW,GAAIX,EAAY,UAAE,SAASY,GAAS,OAAOR,EAAG,oBAAoB,CAACS,IAAID,EAAQE,GAAGC,MAAM,CAAC,GAAK,CAAEC,KAAM,UAAWC,OAAQ,CAAEH,GAAIF,EAAQE,GAAIE,KAAMhB,EAAIkB,eAAeN,OAAe,CAACR,EAAG,MAAM,CAACe,YAAY,6BAA6B,CAACf,EAAG,MAAM,CAACe,YAAY,iBAAiBC,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQL,MAAM,CAAC,IAAMf,EAAIqB,oBAAoBT,MAAYR,EAAG,MAAM,CAACe,YAAY,QAAQ,CAACf,EAAG,SAAS,CAACA,EAAG,OAAO,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIkB,eAAeN,SAAeR,EAAG,MAAMA,EAAG,OAAO,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIsB,GAAG,SAAPtB,CAAiBA,EAAIsB,GAAG,YAAPtB,CAAoBA,EAAIuB,sBAAsBX,kBAAuB,IAAI,IACj3BY,EAAkB,GC6BtB,G,wCAAA,CACEC,KAAM,WACJ,MAAO,CACLC,SAAU,KAGdC,SAAU,CACRjB,MADJ,WAEM,OAAOT,KAAK2B,OAAOlB,MAAMmB,IAG7BC,MAAO,CACLpB,MAAO,CACLqB,WAAW,EACXC,QAFN,SAEA,cACQ/B,KAAKgC,QACb,qBACU,OAAV,gDACU,OAAV,CACY,oBAAZ,CACc,QAAd,KACc,SAAd,MAIA,kBACU,EAAV,sBAKEC,QAAS,CACPhB,eADJ,SACA,cACM,OACN,iCAAQ,OAAR,yBACA,mBACA,MAEIK,sBAPJ,SAOA,cACM,OACN,iCAAQ,OAAR,yBACA,mBACA,aAEIF,oBAAqB,SAAzB,6CC1EkW,I,YCO9Vc,EAAY,eACd,EACApC,EACAyB,GACA,EACA,KACA,KACA,MAIa,aAAAW,E","file":"js/chunk-2d0ba514.b402b6ea.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.products)?_c('h2',[_vm._v(_vm._s(_vm.$t(\"yourSearchResults\", {search: _vm.query})))]):_c('h2',[_vm._v(_vm._s(_vm.$t(\"noSearchResults\", {search: _vm.query})))]),_c('b-list-group',_vm._l((_vm.products),function(product){return _c('b-list-group-item',{key:product.id,attrs:{\"to\":{ name: 'product', params: { id: product.id, name: _vm.getProductName(product) } }}},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('img',{staticClass:\"rounded-circle\",staticStyle:{\"width\":\"40px\",\"height\":\"40px\"},attrs:{\"src\":_vm.getProductThumbnail(product)}}),_c('div',{staticClass:\"ml-4\"},[_c('strong',[_c('span',[_vm._v(_vm._s(_vm.getProductName(product)))])]),_c('br'),_c('span',[_vm._v(_vm._s(_vm._f(\"medium\")(_vm._f(\"striphtml\")(_vm.getProductDescription(product)))))])])])])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2 v-if=\"products\">{{ $t(\"yourSearchResults\", {search: query}) }}</h2>\r\n    <h2 v-else>{{ $t(\"noSearchResults\", {search: query}) }}</h2>\r\n    <b-list-group>\r\n      <b-list-group-item\r\n        v-for=\"product in products\"\r\n        :key=\"product.id\"\r\n        :to=\"{ name: 'product', params: { id: product.id, name: getProductName(product) } }\"\r\n      >\r\n        <div class=\"d-flex align-items-center\">\r\n          <img\r\n            class=\"rounded-circle\"\r\n            :src=\"getProductThumbnail(product)\"\r\n            style=\"width: 40px; height: 40px;\"\r\n          />\r\n          <div class=\"ml-4\">\r\n            <strong>\r\n              <span>{{ getProductName(product) }}</span>\r\n            </strong>\r\n            <br />\r\n            <span>{{ getProductDescription(product) | striphtml | medium }}</span>\r\n          </div>\r\n        </div>\r\n      </b-list-group-item>\r\n    </b-list-group>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: function () {\r\n    return {\r\n      products: [],\r\n    };\r\n  },\r\n  computed: {\r\n    query() {\r\n      return this.$route.query.q;\r\n    },\r\n  },\r\n  watch: {\r\n    query: {\r\n      immediate: true,\r\n      handler(newQuery) {\r\n        this.$client\r\n          .getItems(\"products\", {\r\n            fields: [\"*\", \"image.*\", \"category.*.*\", \"translations.*\"],\r\n            filter: {\r\n              \"translations.name\": {\r\n                logical: \"or\",\r\n                contains: newQuery,\r\n              },\r\n            },\r\n          })\r\n          .then((res) => {\r\n            this.products = res.data;\r\n          });\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    getProductName(product) {\r\n      return (\r\n        product.translations.find((t) => t.language == this.locale) ||\r\n        product.translations[0]\r\n      ).name;\r\n    },\r\n    getProductDescription(product) {\r\n      return (\r\n        product.translations.find((t) => t.language == this.locale) ||\r\n        product.translations[0]\r\n      ).description;\r\n    },\r\n    getProductThumbnail: (product) => product.image.data.thumbnails[5].url,\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductSearch.vue?vue&type=template&id=da48b4b2&\"\nimport script from \"./ProductSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductSearch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}