{"version":3,"sources":["webpack:///./src/views/Category.vue?3072","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///src/views/Category.vue","webpack:///./src/views/Category.vue?ae43","webpack:///./src/views/Category.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","_v","_s","$t","params","id","category","categoryName","priceRange","priceMin","priceMax","on","adjustPriceSlider","sortByOptions","model","value","callback","$$v","sortBy","expression","_l","product","key","getProductName","getProductThumbnail","_f","getProductDescription","staticRenderFns","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_i","next","done","push","length","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","data","computed","products","getProductsByCategory","filteredProducts","_products","sort","p1Name","p2Name","Math","min","max","getCategory","$route","methods","newValue","watch","immediate","handler","to","from","loading","mounted","categories","fetchCategories","component"],"mappings":"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","file":"js/chunk-2d0c1d78.1f1c257c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"category\"},[(_vm.loading)?_c('div',[_c('b-spinner',{staticClass:\"d-block m-auto\",attrs:{\"type\":\"grow\",\"label\":\"Spinning\"}})],1):(_vm.category)?_c('div',[_c('b-breadcrumb',[_c('b-breadcrumb-item',{attrs:{\"to\":{ name: 'categories' }}},[_vm._v(_vm._s(_vm.$t(\"categories\")))]),_c('b-breadcrumb-item',{attrs:{\"to\":{ name: 'category', params: { id: _vm.category.id, name: _vm.categoryName } }}},[_vm._v(_vm._s(_vm.categoryName))])],1),_c('div',{staticClass:\"pb-3 pl-3\"},[_c('span',{staticClass:\"pr-4\"},[_vm._v(_vm._s(_vm.$t(\"price\")))]),_c('b-form-slider',{attrs:{\"value\":_vm.priceRange,\"min\":_vm.priceMin,\"max\":_vm.priceMax},on:{\"change\":_vm.adjustPriceSlider}}),_c('span',{staticClass:\"px-4\"},[_vm._v(_vm._s(_vm.$t(\"sortBy\")))]),_c('b-form-select',{staticClass:\"d-inline-block w-auto\",attrs:{\"options\":_vm.sortByOptions},model:{value:(_vm.sortBy),callback:function ($$v) {_vm.sortBy=$$v},expression:\"sortBy\"}})],1),_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',_vm._l((_vm.filteredProducts),function(product){return _c('b-col',{key:product.id,attrs:{\"sm\":\"6\",\"cols\":\"12\",\"md\":\"4\"}},[_c('router-link',{attrs:{\"to\":{ name: 'product', params: { id: product.id, name: _vm.getProductName(product) } }}},[_c('b-card',{staticClass:\"d-inline-flex\",attrs:{\"title\":_vm.getProductName(product),\"img-src\":_vm.getProductThumbnail(product),\"img-alt\":_vm.getProductName(product),\"img-top\":\"\"}},[_c('b-card-text',[_vm._v(_vm._s(_vm._f(\"medium\")(_vm._f(\"striphtml\")(_vm.getProductDescription(product)))))])],1)],1)],1)}),1)],1)],1):_c('div',[_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.$t(\"categoryNotFound\")))]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(\"returnTo\"))+\" \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(_vm._s(_vm.$t(\"home\")))]),_vm._v(\". \")],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","<template>\r\n  <div class=\"category\">\r\n    <div v-if=\"loading\">\r\n      <b-spinner class=\"d-block m-auto\" type=\"grow\" label=\"Spinning\"></b-spinner>\r\n    </div>\r\n    <div v-else-if=\"category\">\r\n      <b-breadcrumb>\r\n        <b-breadcrumb-item :to=\"{ name: 'categories' }\">{{ $t(\"categories\") }}</b-breadcrumb-item>\r\n        <b-breadcrumb-item\r\n          :to=\"{ name: 'category', params: { id: category.id, name: categoryName } }\"\r\n        >{{ categoryName }}</b-breadcrumb-item>\r\n      </b-breadcrumb>\r\n      <div class=\"pb-3 pl-3\">\r\n        <span class=\"pr-4\">{{ $t(\"price\") }}</span>\r\n        <b-form-slider\r\n          :value=\"priceRange\"\r\n          :min=\"priceMin\"\r\n          :max=\"priceMax\"\r\n          @change=\"adjustPriceSlider\"\r\n        ></b-form-slider>\r\n        <span class=\"px-4\">{{ $t(\"sortBy\") }}</span>\r\n        <b-form-select class=\"d-inline-block w-auto\" v-model=\"sortBy\" :options=\"sortByOptions\"></b-form-select>\r\n      </div>\r\n      <b-container fluid>\r\n        <b-row>\r\n          <b-col sm=\"6\" cols=\"12\" md=\"4\" v-for=\"product in filteredProducts\" :key=\"product.id\">\r\n            <router-link\r\n              :to=\"{ name: 'product', params: { id: product.id, name: getProductName(product) } }\"\r\n            >\r\n              <b-card\r\n                :title=\"getProductName(product)\"\r\n                :img-src=\"getProductThumbnail(product)\"\r\n                :img-alt=\"getProductName(product)\"\r\n                img-top\r\n                class=\"d-inline-flex\"\r\n              >\r\n                <b-card-text>{{ getProductDescription(product) | striphtml | medium }}</b-card-text>\r\n              </b-card>\r\n            </router-link>\r\n          </b-col>\r\n        </b-row>\r\n      </b-container>\r\n    </div>\r\n    <div v-else>\r\n      <b-alert show variant=\"danger\">{{ $t(\"categoryNotFound\") }}</b-alert>\r\n      <p>\r\n        {{ $t(\"returnTo\") }}\r\n        <router-link to=\"/\">{{ $t(\"home\") }}</router-link>.\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState, mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Category\",\r\n  data() {\r\n    return {\r\n      priceRange: [10, 5000],\r\n      sortBy: \"name\",\r\n      sortByOptions: [\r\n        { value: \"name\", text: this.$t(\"name\") },\r\n        { value: \"priceLow\", text: this.$t(\"priceLow\") },\r\n        { value: \"priceHigh\", text: this.$t(\"priceHigh\") },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"categories\", \"loading\", \"locale\"]),\r\n    ...mapGetters([\"getProductsByCategory\", \"getCategory\"]),\r\n    products() {\r\n      return this.category ? this.getProductsByCategory(this.category.id) : [];\r\n    },\r\n    filteredProducts() {\r\n      const [minPrice, maxPrice] = this.priceRange;\r\n\r\n      let _products = this.products.filter(\r\n        (p) => p.price >= minPrice && p.price <= maxPrice\r\n      );\r\n\r\n      if (this.sortBy) {\r\n        switch (this.sortBy) {\r\n          case \"priceHigh\":\r\n            _products = _products.sort((p1, p2) =>\r\n              p1.price < p2.price ? 1 : p1.price > p2.price ? -1 : 0\r\n            );\r\n            break;\r\n          case \"priceLow\":\r\n            _products = _products.sort((p1, p2) =>\r\n              p1.price > p2.price ? 1 : p1.price < p2.price ? -1 : 0\r\n            );\r\n            break;\r\n          default:\r\n            _products = _products.sort((p1, p2) => {\r\n              const p1Name = this.getProductName(p1),\r\n                p2Name = this.getProductName(p2);\r\n              return p1Name > p2Name ? 1 : p1Name < p2Name ? -1 : 0;\r\n            });\r\n        }\r\n      }\r\n\r\n      return _products;\r\n    },\r\n    priceMin() {\r\n      return Math.min(...this.products.map((p) => p.price));\r\n    },\r\n    priceMax() {\r\n      return Math.max(...this.products.map((p) => p.price));\r\n    },\r\n    category() {\r\n      return this.getCategory(this.$route.params.id);\r\n    },\r\n    categoryName() {\r\n      return (\r\n        this.category.translations.find((t) => t.language == this.locale) ||\r\n        this.category.translations[0]\r\n      ).name;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\"fetchCategories\", \"fetchProducts\"]),\r\n    getProductName(product) {\r\n      return (\r\n        product.translations.find((t) => t.language == this.locale) ||\r\n        product.translations[0]\r\n      ).name;\r\n    },\r\n    getProductDescription(product) {\r\n      return (\r\n        product.translations.find((t) => t.language == this.locale) ||\r\n        product.translations[0]\r\n      ).description;\r\n    },\r\n    getProductThumbnail: (product) => product.image.data.thumbnails[5].url,\r\n    adjustPriceSlider({ newValue }) {\r\n      this.priceRange = newValue;\r\n    },\r\n  },\r\n  watch: {\r\n    category: {\r\n      immediate: true,\r\n      handler(to, from) {\r\n        if (to && from && to.id === from.id) return;\r\n        if (!this.products.length && to && !this.loading)\r\n          this.fetchProducts({ vue: this, categoryId: to.id });\r\n      },\r\n    },\r\n    products: {\r\n      immediate: true,\r\n      handler() {\r\n        this.priceRange = [this.priceMin, this.priceMax];\r\n      },\r\n    },\r\n  },\r\n  mounted: function () {\r\n    if (!this.categories.length) this.fetchCategories(this);\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Category.vue?vue&type=template&id=1374e466&\"\nimport script from \"./Category.vue?vue&type=script&lang=js&\"\nexport * from \"./Category.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}