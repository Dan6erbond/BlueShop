(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1d78"],{4886:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"category"},[t.loading?r("div",[r("b-spinner",{staticClass:"d-block m-auto",attrs:{type:"grow",label:"Spinning"}})],1):t.category?r("div",[r("b-breadcrumb",[r("b-breadcrumb-item",{attrs:{to:{name:"categories"}}},[t._v(t._s(t.$t("categories")))]),r("b-breadcrumb-item",{attrs:{to:{name:"category",params:{id:t.category.id,name:t.categoryName}}}},[t._v(t._s(t.categoryName))])],1),r("div",{staticClass:"pb-3 pl-3"},[r("span",{staticClass:"pr-4"},[t._v(t._s(t.$t("price")))]),r("b-form-slider",{attrs:{value:t.priceRange,min:t.priceMin,max:t.priceMax},on:{change:t.adjustPriceSlider}}),r("span",{staticClass:"px-4"},[t._v(t._s(t.$t("sortBy")))]),r("b-form-select",{staticClass:"d-inline-block w-auto",attrs:{options:t.sortByOptions},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}})],1),r("b-container",{attrs:{fluid:""}},[r("b-row",t._l(t.filteredProducts,(function(e){return r("b-col",{key:e.id,attrs:{sm:"6",cols:"12",md:"4"}},[r("router-link",{attrs:{to:{name:"product",params:{id:e.id,name:t.getProductName(e)}}}},[r("b-card",{staticClass:"d-inline-flex",attrs:{title:t.getProductName(e),"img-src":t.getProductThumbnail(e),"img-alt":t.getProductName(e),"img-top":""}},[r("b-card-text",[t._v(t._s(t._f("medium")(t._f("striphtml")(t.getProductDescription(e)))))])],1)],1)],1)})),1)],1)],1):r("div",[r("b-alert",{attrs:{show:"",variant:"danger"}},[t._v(t._s(t.$t("categoryNotFound")))]),r("p",[t._v(" "+t._s(t.$t("returnTo"))+" "),r("router-link",{attrs:{to:"/"}},[t._v(t._s(t.$t("home")))]),t._v(". ")],1)],1)])},i=[],n=(r("a4d3"),r("e01a"),r("4de4"),r("7db0"),r("d81d"),r("b0c0"),r("2909"));function c(t){if(Array.isArray(t))return t}r("d28b"),r("d3b7"),r("3ca3"),r("ddb0");function o(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],a=!0,i=!1,n=void 0;try{for(var c,o=t[Symbol.iterator]();!(a=(c=o.next()).done);a=!0)if(r.push(c.value),e&&r.length===e)break}catch(s){i=!0,n=s}finally{try{a||null==o["return"]||o["return"]()}finally{if(i)throw n}}return r}}var s=r("06c5");function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){return c(t)||o(t,e)||Object(s["a"])(t,e)||u()}var l=r("5530"),p=r("2f62"),g={name:"Category",data:function(){return{priceRange:[10,5e3],sortBy:"name",sortByOptions:[{value:"name",text:this.$t("name")},{value:"priceLow",text:this.$t("priceLow")},{value:"priceHigh",text:this.$t("priceHigh")}]}},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(p["e"])(["categories","loading","locale"])),Object(p["c"])(["getProductsByCategory","getCategory"])),{},{products:function(){return this.category?this.getProductsByCategory(this.category.id):[]},filteredProducts:function(){var t=this,e=d(this.priceRange,2),r=e[0],a=e[1],i=this.products.filter((function(t){return t.price>=r&&t.price<=a}));if(this.sortBy)switch(this.sortBy){case"priceHigh":i=i.sort((function(t,e){return t.price<e.price?1:t.price>e.price?-1:0}));break;case"priceLow":i=i.sort((function(t,e){return t.price>e.price?1:t.price<e.price?-1:0}));break;default:i=i.sort((function(e,r){var a=t.getProductName(e),i=t.getProductName(r);return a>i?1:a<i?-1:0}))}return i},priceMin:function(){return Math.min.apply(Math,Object(n["a"])(this.products.map((function(t){return t.price}))))},priceMax:function(){return Math.max.apply(Math,Object(n["a"])(this.products.map((function(t){return t.price}))))},category:function(){return this.getCategory(this.$route.params.id)},categoryName:function(){var t=this;return(this.category.translations.find((function(e){return e.language==t.locale}))||this.category.translations[0]).name}}),methods:Object(l["a"])(Object(l["a"])({},Object(p["b"])(["fetchCategories","fetchProducts"])),{},{getProductName:function(t){var e=this;return(t.translations.find((function(t){return t.language==e.locale}))||t.translations[0]).name},getProductDescription:function(t){var e=this;return(t.translations.find((function(t){return t.language==e.locale}))||t.translations[0]).description},getProductThumbnail:function(t){return t.image.data.thumbnails[5].url},adjustPriceSlider:function(t){var e=t.newValue;this.priceRange=e}}),watch:{category:{immediate:!0,handler:function(t,e){t&&e&&t.id===e.id||this.products.length||!t||this.loading||this.fetchProducts({vue:this,categoryId:t.id})}},products:{immediate:!0,handler:function(){this.priceRange=[this.priceMin,this.priceMax]}}},mounted:function(){this.categories.length||this.fetchCategories(this)}},h=g,m=r("2877"),f=Object(m["a"])(h,a,i,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0c1d78.1f1c257c.js.map